@model IEnumerable<Baby.Models.Need>

@{
	ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
	@Html.ActionLink( "Create New", "Create" )
</p>
<table class="table">
	<tr>
		<th>
			@Html.DisplayNameFor( model => model.NeedType.Description )
		</th>
		<th>
			@Html.DisplayNameFor( model => model.Region.Name )
		</th>
		<th>
			@Html.DisplayNameFor( model => model.Country.Name )
		</th>
		<th>
			@Html.DisplayNameFor( model => model.Caption )
		</th>
		<th>
			Image
		</th>
		<th>
			@Html.DisplayNameFor( model => model.IsUrgent )
		</th>
		<th>
			@Html.DisplayNameFor( model => model.PublishDate )
		</th>
		<th>
			@Html.DisplayNameFor( model => model.EndDate )
		</th>
		<th>
			@Html.DisplayNameFor( model => model.AmountNeeded )
		</th>
		<th></th>
	</tr>

	@foreach ( var item in Model )
	{
		<tr>
			<td>
				@Html.DisplayFor( modelItem => item.NeedType.Description )
			</td>
			<td>
				@Html.DisplayFor( modelItem => item.Region.Name )
			</td>
			<td>
				@Html.DisplayFor( modelItem => item.Country.Name )
			</td>
			<td>
				@Html.DisplayFor( modelItem => item.Caption )
			</td>
			<td>
				<img src="/File?id=@item.Image1Id" width="50" alt="image" />
				@if ( item.Image2Id != null )
				{
					<img src="/File?id=@item.Image2Id" width="50" alt="image" />
				}
			</td>
			<td>
				@Html.DisplayFor( modelItem => item.IsUrgent )
			</td>
			<td>
				@Html.DisplayFor( modelItem => item.PublishDate )
			</td>
			<td>
				@Html.DisplayFor( modelItem => item.EndDate )
			</td>
			<td>
				@Html.DisplayFor( modelItem => item.AmountNeeded )
			</td>
			<td>
				@Html.ActionLink( "Edit", "Edit", new { id = item.NeedId } ) |
				@Html.ActionLink( "Details", "Details", new { id = item.NeedId } ) |
				@Html.ActionLink( "Delete", "Delete", new { id = item.NeedId } )
			</td>
		</tr>
	}

</table>
